{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Person","name","number","handleFunction","id","onClick","Persons","search","persons","filter","p","toLowerCase","includes","map","Filter","handleSearch","value","onChange","PersonForm","action","newName","handleInput","newNumber","handleNumber","onSubmit","type","Notification","message","status","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","baseUrl","phoneBookService","getAll","axios","get","then","response","data","create","newObject","post","update","put","deletePerson","delete","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","setStatus","useEffect","returnedPerson","console","log","event","target","preventDefault","newPerson","some","e","window","confirm","person","find","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.22562126.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person = ({ name, number, handleFunction, id }) => {\n  return (\n    <>\n      <p key={name}>\n        {name} {number}\n      </p>\n      <button onClick={() => handleFunction(id)}>delete</button>\n    </>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\nconst Persons = ({ search, persons, handleFunction }) => {\n  return (\n    <div>\n      {persons\n        .filter((p) => p.name.toLowerCase().includes(search.toLowerCase()))\n        .map((p) => (\n          <Person\n            key={p.id}\n            name={p.name}\n            number={p.number}\n            handleFunction={handleFunction}\n            id={p.id}\n          />\n        ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ handleSearch, search, persons }) => {\n  return (\n    <>\n      <div>\n        filter shown with <input value={search} onChange={handleSearch} />\n      </div>\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  action,\n  newName,\n  handleInput,\n  newNumber,\n  handleNumber,\n}) => {\n  return (\n    <form onSubmit={action}>\n      <div>\n        name: <input value={newName} onChange={handleInput} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Notification = ({ message, status }) => {\n  const errorStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: \"20px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  const successStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: \"20px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  if (message === null || status === null) {\n    return null;\n  }\n\n  if (status === \"error\") {\n    return (\n      <div style={errorStyle} className=\"message\">\n        {message}\n      </div>\n    );\n  } else if (status === \"success\") {\n    return (\n      <div style={successStyle} className=\"message\">\n        {message}\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default Notification;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nconst phoneBookService = {getAll, create, update, deletePerson}\n\nexport default phoneBookService","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notification from \"./components/Notification\";\nimport phoneBookService from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [status, setStatus] = useState(null);\n\n  useEffect(() => {\n    phoneBookService.getAll().then((returnedPerson) => {\n      console.log(\"Response received\");\n      console.log(returnedPerson);\n      setPersons(returnedPerson);\n    });\n  }, []);\n\n  const addEntry = (event) => {\n    event.preventDefault();\n    const newPerson = { name: `${newName}`, number: `${newNumber}` };\n    if (persons.some((e) => e.name === `${newName}`)) {\n      const confirmed = window.confirm(\n        `${newName} is already added to the phonebook, replace the old number with the new one?`\n      );\n      if (confirmed) {\n        const person = persons.find((p) => p.name === newName);\n        const id = person.id;\n        phoneBookService\n          .update(id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(persons.map((p) => (p.id !== id ? p : returnedPerson)));\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setStatus(\"success\");\n            setMessage(`Information of ${person.name} is updated!`);\n            setTimeout(() => setMessage(null), 5000);\n          })\n          .catch((error) => {\n            console.log(error);\n            setMessage(\n              `Information of ${person.name} is already deleted from server`\n            );\n            setStatus(\"error\");\n            setTimeout(() => {\n              setMessage(null);\n              setStatus(\"success\");\n            }, 5000);\n            setPersons(persons.filter((p) => p.id !== id));\n          });\n      }\n    } else {\n      phoneBookService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          console.log(\"Response received\");\n          console.log(returnedPerson);\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setStatus(\"success\");\n          setTimeout(() => setMessage(null), 5000);\n          setMessage(`Information of ${newPerson.name} is added to the server`);\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n          setMessage(\n            error.response.data.error\n          );\n          setStatus(\"error\");\n          setTimeout(() => {\n            setMessage(null);\n            setStatus(\"success\");\n          }, 5000);\n        });\n    }\n  };\n\n  const handleSearch = (event) => {\n    console.log(event.target.value);\n    setSearch(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumber = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleDeletion = (id) => {\n    const confirmed = window.confirm(\n      `Delete ${persons.find((p) => p.id === id).name} ?`\n    );\n    if (confirmed) {\n      phoneBookService\n        .deletePerson(id)\n        .then((returnedPerson) => {\n          console.log(returnedPerson);\n          setMessage(\n            `Information of ${\n              persons.find((p) => p.id === id).name\n            } is deleted from server`\n          );\n          setStatus(\"success\");\n          setTimeout(() => setMessage(null), 5000);\n          setPersons(persons.filter((p) => p.id !== id));\n        })\n        .catch((error) => {\n          console.log(error);\n          setMessage(\n            `Information of ${\n              persons.find((p) => p.id === id).name\n            } is already deleted from server`\n          );\n          setStatus(\"error\");\n          setTimeout(() => {\n            setMessage(null);\n            setStatus(\"success\");\n          }, 5000);\n          setPersons(persons.filter((p) => p.id !== id));\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} status={status} />\n      <Filter handleSearch={handleSearch} search={search} persons={persons} />\n      <h2>add a new</h2>\n      <PersonForm\n        action={addEntry}\n        newName={newName}\n        handleInput={handleInput}\n        newNumber={newNumber}\n        handleNumber={handleNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        search={search}\n        persons={persons}\n        handleFunction={handleDeletion}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}